(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["yt-ui"]=e():t["yt-ui"]=e()})("undefined"!==typeof self?self:this,(function(){return function(){"use strict";var t={};!function(){t.d=function(e,o){for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})}}(),function(){t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){t.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){t.p=""}();var e={};if(t.r(e),t.d(e,{default:function(){return L}}),"undefined"!==typeof window){var o=window.document.currentScript,n=o&&o.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);n&&(t.p=n[1])}var a=function(){var t=this,e=t._self._c;return e("div",[t._v(" "+t._s(t.pageName)+" ")])},r=[],l={name:"ytComp",components:{},props:{pageName:{type:String,default:"ytComp"}},computed:{},watch:{},filters:{},data(){return{}},methods:{},created(){},mounted(){},destroyed(){}},i=l;function s(t,e,o,n,a,r,l,i){var s,d="function"===typeof t?t.options:t;if(e&&(d.render=e,d.staticRenderFns=o,d._compiled=!0),n&&(d.functional=!0),r&&(d._scopeId="data-v-"+r),l?(s=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(l)},d._ssrRegister=s):a&&(s=i?function(){a.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:a),s)if(d.functional){d._injectStyles=s;var c=d.render;d.render=function(t,e){return s.call(e),c(t,e)}}else{var p=d.beforeCreate;d.beforeCreate=p?[].concat(p,s):[s]}return{exports:t,options:d}}var d=s(i,a,r,!1,null,"25e596c5",null),c=d.exports;c.install=t=>{t.component(c.name,c)};var p=c,u=function(){var t=this;t._self._c;return t._m(0)},m=[function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"a"},[t._v(" a "),e("div",{staticClass:"b"},[t._v("b")])])])}],x={name:"ytDemo",components:{},props:{},computed:{},watch:{},filters:{},data(){return{}},methods:{},created(){},mounted(){},destroyed(){}},f=x,h=s(f,u,m,!1,null,"75d99d1c",null),g=h.exports;g.install=t=>{t.component(g.name,g)};var b=g,v=function(){var t=this,e=t._self._c;return e("div",{staticClass:"textBox"},[e("el-row",{attrs:{gutter:24}},[e("el-col",{attrs:{span:14}},[e("div",{staticClass:"textBox-left"},[e("el-form",{ref:"textForm",attrs:{model:t.textForm,rules:t.textFormRules,"label-width":"96px"}},[e("el-form-item",{attrs:{label:"文本内容 :",prop:"programContent"}},[e("el-input",{attrs:{resize:"none",rows:"3",type:"textarea",placeholder:"",disabled:"详情"===t.title},on:{input:t.fontChange},model:{value:t.textForm.programContent,callback:function(e){t.$set(t.textForm,"programContent",e)},expression:"textForm.programContent"}})],1),e("el-form-item",{attrs:{label:"文本颜色 : ",prop:"textColor"}},[e("el-input",{attrs:{placeholder:"",disabled:"详情"===t.title},model:{value:t.textForm.textColor,callback:function(e){t.$set(t.textForm,"textColor",e)},expression:"textForm.textColor"}},[e("template",{slot:"suffix"},[e("el-color-picker",{attrs:{disabled:"详情"===t.title},on:{change:t.fontChange},model:{value:t.textForm.textColor,callback:function(e){t.$set(t.textForm,"textColor",e)},expression:"textForm.textColor"}})],1)],2)],1),e("el-form-item",{attrs:{label:"文本字体 : ",prop:"textCase"}},[e("el-select",{attrs:{placeholder:"",disabled:"详情"===t.title},on:{change:t.fontChange},model:{value:t.textForm.textCase,callback:function(e){t.$set(t.textForm,"textCase",e)},expression:"textForm.textCase"}},t._l(t.textCaseList,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("el-form-item",{attrs:{label:"文本字号 : ",prop:"textFont"}},[e("el-select",{attrs:{placeholder:"",disabled:"详情"===t.title},on:{change:t.fontChange},model:{value:t.textForm.textFont,callback:function(e){t.$set(t.textForm,"textFont",e)},expression:"textForm.textFont"}},t._l(t.textFontList,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("el-form-item",{attrs:{label:"背景颜色 : ",prop:"background"}},[e("el-input",{attrs:{placeholder:"",disabled:"详情"===t.title},model:{value:t.textForm.background,callback:function(e){t.$set(t.textForm,"background",e)},expression:"textForm.background"}},[e("template",{slot:"suffix"},[e("el-color-picker",{attrs:{disabled:"详情"===t.title},on:{change:t.fontChange},model:{value:t.textForm.background,callback:function(e){t.$set(t.textForm,"background",e)},expression:"textForm.background"}})],1)],2)],1)],1)],1)]),e("el-col",{attrs:{span:10}},[e("div",{staticClass:"textBox-right"},[e("span",{staticClass:"textBox-right-font"},[t._v(" 预览 : ")]),e("div",{staticClass:"textBox-right-board"},[e("div",{staticClass:"textBox-right-board-group"},[e("div",{staticClass:"borderContainer",on:{click:t.getCanvasImg}},[e("canvas",{staticStyle:{border:"grey 1px solid"},attrs:{width:"273x",height:"153px",id:"myCanvas"}})]),e("span",[t._v(" (1920 * 1080) ")])])])])])],1),e("el-dialog",{attrs:{title:"预览",width:"580px","append-to-body":"",visible:t.dialogVisible,"before-close":t.hideDialog},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("div",[e("el-image",{staticStyle:{width:"546px",height:"306px"},attrs:{src:t.imgUrl}})],1)])],1)},C=[],y={name:"ytRealCanvas",components:{},props:{typeForm:{type:Object,default:()=>{}},title:{type:String,default:""}},data(){return{textForm:{textFont:"24px",textCase:"微软雅黑",textColor:"#FFF",background:"#000"},textFormRules:{},textCaseList:[{label:"微软雅黑",value:"微软雅黑"},{label:"华文行楷",value:"华文行楷"},{label:"宋体",value:"宋体"},{label:"隶书",value:"隶书"}],textFontList:[{label:"16px",value:"16px"},{label:"24px",value:"24px"},{label:"30px",value:"30px"},{label:"36px",value:"36px"},{label:"42px",value:"42px"}],dialogVisible:!1,imgUrl:null}},methods:{getTextForm(){this.typeForm&&(this.textForm=this.typeForm)},initMyCanvas(){this.drawCanvas({element:"#myCanvas",lineColor:"rgba(238,238,238,0.6)",lineStepX:10,lineStepY:10,bgColor:this.textForm.background,bgStepX:0,bgStepY:0,lineHeight:20,byteLength:20,text:this.textForm.programContent,startLeft:20,startTop:40})},drawCanvas(t){let{element:e,lineHeight:o,byteLength:n,text:a,startLeft:r,startTop:l,lineColor:i,lineStepX:s,lineStepY:d,bgColor:c,bgStepX:p,bgStepY:u}=t;const m=document.querySelector(e),x=m.getContext("2d");x.save(),x.lineWidth=.5,x.strokeStyle=i,x.fillStyle=c,x.fillRect(p,u,m.width,m.height),x.setLineDash([]),x.beginPath();for(var f=s+.5;f<m.width;f+=s)x.beginPath(),x.moveTo(f,.5),x.lineTo(f,m.height+.5),x.stroke();for(var h=d+.5;h<m.height;h+=d)x.beginPath(),x.moveTo(.5,h),x.lineTo(m.width,h),x.stroke();function g(t){for(var e=t?t.length:0,o=0,n=0;n<e;n++)t.charCodeAt(n)>128?o+=2:o+=1;return o}function b(t,e){for(var o=t?t.length:0,n=o,a=0,r=0;r<o;r++)if(t.charCodeAt(r)>128){if(!(a+2<e)){n=r;break}a+=2}else{if(!(a+1<e)){n=r;break}a+=1}return n}x.fillStyle=this.textForm.textColor,x.font=`${this.textForm.textFont} ${this.textForm.textCase}`;for(var v=1;g(a)>0;v++){var C=b(a,n);x.fillText(a.substr(0,C).replace(/^\s+|\s+$/,""),r,(v-1)*o+l),a=a.substr(C)}x.restore(),x.closePath()},fontChange(){this.drawCanvas({element:"#myCanvas",lineColor:"rgba(238,238,238,0.6)",lineStepX:10,lineStepY:10,bgColor:this.textForm.background,bgStepX:0,bgStepY:0,lineHeight:20,byteLength:20,text:this.textForm.programContent,startLeft:20,startTop:40})},getCanvasImg(){var t=document.getElementById("myCanvas");console.log(t.toDataURL()),this.dialogVisible=!0,this.imgUrl=t.toDataURL()},hideDialog(){this.imgUrl=null,this.dialogVisible=!1},validateTextForm(){let t=!1;return this.$refs.textForm.validate((e=>t=e)),t}},created(){this.getTextForm()},mounted(){this.initMyCanvas()}},F=y,_=s(F,v,C,!1,null,"67781900",null),S=_.exports;S.install=t=>{t.component(S.name,S)};var k=S;const w=[p,b,k],$=function(t){w.forEach((e=>{t.component(e.name,e)}))};"undefined"!==typeof window&&window.Vue&&$(window.Vue);var T={install:$,ytDemo:b,ytComp:p,ytRealCanvas:k},L=T;return e}()}));
//# sourceMappingURL=yt-ui.umd.min.js.map